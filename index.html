<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Dashboard ESP32</title>
</head>
<body>
<h1>Monitor IoT</h1>
<p>Temperatura: <span id="temp">--</span> Â°C</p>
<p>Humedad: <span id="hum">--</span> %</p>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-database.js";

    const firebaseConfig = {
        apiKey: "AIzaSyBoMoD-XBP7Rl5rmX__nh04O6c6xZsMkN4",
        authDomain: "iotjuan.firebaseapp.com",
        databaseURL: "https://iotjuan-default-rtdb.firebaseio.com",
        projectId: "iotjuan",
        storageBucket: "iotjuan.firebasestorage.app",
        messagingSenderId: "953082830486",
        appId: "1:953082830486:web:08e0bc2f6c317efd29acb7",
        measurementId: "G-17G6BX6LP5"
    };

    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);

    const tempRef = ref(database, 'sensores/temperatura');
    const humRef = ref(database, 'sensores/humedad');

    onValue(tempRef, (snapshot) => {
        document.getElementById('temp').textContent = snapshot.val();
    });

    onValue(humRef, (snapshot) => {
        document.getElementById('hum').textContent = snapshot.val();
    });
</script>
</body>
</html>
